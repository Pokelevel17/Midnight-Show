<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ADULT CHANNEL</title>
<style>
  html, body {
    margin: 0;
    padding: 0;
    background: black;
    color: white;
    font-family: "Courier New", monospace;
    overflow: hidden;
    height: 100%;
  }

  #player {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    pointer-events: none;
    z-index: 0;
  }

  .overlay {
    position: absolute;
    bottom: 5%;
    left: 50%;
    transform: translateX(-50%);
    text-align: center;
    z-index: 2;
  }

  .bump-text {
    display: inline-block;
    border: 2px solid white;
    padding: 10px 20px;
    font-size: 22px;
    text-transform: uppercase;
  }

  .logo {
    position: absolute;
    top: 20px;
    right: 30px;
    text-align: right;
    z-index: 2;
  }

  .logo h1 {
    margin: 0;
    font-size: 32px;
    border: 3px solid white;
    padding: 10px;
    display: inline-block;
  }

  .now-playing {
    margin-top: 10px;
    font-size: 18px;
    border: 2px solid white;
    padding: 6px 10px;
    display: inline-block;
  }

  .controls {
    position: absolute;
    bottom: 20px;
    right: 30px;
    z-index: 3;
  }

  button {
    background: none;
    border: 2px solid white;
    color: white;
    padding: 6px 12px;
    margin-left: 8px;
    cursor: pointer;
    font-family: "Courier New", monospace;
    transition: 0.2s;
  }

  button:hover {
    background: white;
    color: black;
  }
</style>
</head>
<body>

<div id="player"></div>

<div class="logo">
  <h1>ADULT CHANNEL</h1>
  <div class="now-playing" id="nowPlaying">Loading...</div>
</div>

<div class="overlay">
  <div class="bump-text" id="bumpText">Please Stand By...</div>
</div>

<div class="controls">
  <button id="fullscreenBtn">Fullscreen</button>
</div>

<script>
  const bumpTexts = [
    "Please Stand By...",
    "We're Experiencing Technical Difficulties",
    "More After The Break",
    "Don't Change That Tab",
    "Stay Tuned"
  ];

  const bumpTextEl = document.getElementById("bumpText");
  const nowPlayingEl = document.getElementById("nowPlaying");
  const fullscreenBtn = document.getElementById("fullscreenBtn");

  let videos = [];
  let currentVideoIndex = 0;
  let player;

  // Load videos.json
  fetch("videos.json")
    .then(res => res.json())
    .then(data => {
      videos = data.videos;
      playRandomVideo();
    });

  function playRandomVideo() {
    if (videos.length === 0) return;
    currentVideoIndex = Math.floor(Math.random() * videos.length);
    const video = videos[currentVideoIndex];
    nowPlayingEl.textContent = video.title;
    bumpTextEl.textContent = bumpTexts[Math.floor(Math.random() * bumpTexts.length)];

    if (player) {
      player.loadVideoById(video.id);
    } else {
      initPlayer(video.id);
    }
  }

  function initPlayer(videoId) {
    const tag = document.createElement('script');
    tag.src = "https://www.youtube.com/iframe_api";
    document.body.appendChild(tag);
    window.onYouTubeIframeAPIReady = () => {
      player = new YT.Player('player', {
        videoId: videoId,
        playerVars: {
          autoplay: 1,
          controls: 0,
          disablekb: 1,
          fs: 0,
          modestbranding: 1,
          rel: 0,
          iv_load_policy: 3,
          showinfo: 0,
          playsinline: 1
        },
        events: {
          onReady: e => e.target.playVideo(),
          onStateChange: e => {
            if (e.data === YT.PlayerState.ENDED) {
              playRandomVideo();
            }
          }
        }
      });
    };
  }

  fullscreenBtn.onclick = () => {
    if (!document.fullscreenElement) {
      document.documentElement.requestFullscreen();
    } else {
      document.exitFullscreen();
    }
  };
</script>

</body>
</html>
